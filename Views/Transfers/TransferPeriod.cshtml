@model IEnumerable<MyField.Models.TransferPeriod>

@{
    ViewData["Title"] = "Transfer Period";
    Layout = "~/Views/Shared/_PagesLayout.cshtml";
}

<br />
@await Html.PartialAsync("_HomeButton")
<h4 class="text-center">Transfer Period</h4>
<br />
<div class="table-responsive">
    @if (Model.Any())
    {
        <table class="table">
            <thead>
                <tr style="white-space: nowrap; background-color: #324260; color: white;">
                    <th>
                        Season
                    </th>
                    <th>
                        Open count
                    </th>
                    <th>
                        Is current?
                    </th>
                    <th>
                        Is opened?
                    </th>
                    <th>
                        Created By
                    </th>
                    <th>
                        Created Date Time
                    </th>
                    <th>
                        Modified By
                    </th>

                    <th>
                        Modified Date Time
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="ellipsis">
                        <td>
                            @Html.DisplayFor(modelItem => item.League.LeagueYears)
                        </td>
                        <td>

                            @if(item.PeriodOpenCount >= 2)
                            {
                                <span style="background-color:red; padding-top:5px; padding-right:15px; padding-bottom:5px; padding-left:15px; color:white; margin:0; display:inline-block; border-radius:5px;">Limit reached</span>
                            }
                            else
                            {
                                @Html.DisplayFor(modelItem => item.PeriodOpenCount)
                            }

                        </td>
                        <td>
                            @if (item.IsCurrent == true)
                            {
                                <span style="background-color:green; padding-top:5px; padding-right:15px; padding-bottom:5px; padding-left:15px; color:white; margin:0; display:inline-block; border-radius:5px;">YES</span>
                            }
                            else
                            {
                                <span style="background-color:grey; padding-top:5px; padding-right:15px; padding-bottom:5px; padding-left:15px; color:white; margin:0; display:inline-block; border-radius:5px;">NO</span>
                            }
                        </td>
                        <td>
                            @if (item.IsOpened == true)
                            {
                                <span style="background-color:green; padding-top:5px; padding-right:15px; padding-bottom:5px; padding-left:15px; color:white; margin:0; display:inline-block; border-radius:5px;">YES</span>
                            }
                            else
                            {
                                <span style="background-color:grey; padding-top:5px; padding-right:15px; padding-bottom:5px; padding-left:15px; color:white; margin:0; display:inline-block; border-radius:5px;">NO</span>
                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreatedBy.FirstName)  @Html.DisplayFor(modelItem => item.CreatedBy.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreatedDateTime)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ModifiedBy.FirstName)  @Html.DisplayFor(modelItem => item.ModifiedBy.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ModifiedDateTime)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p style="text-align:center;">No transfer period yet.</p>
    }
</div>
