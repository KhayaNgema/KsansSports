@model IEnumerable<MyField.Models.PlayerTransferMarket>

@if (TempData["Message"] != null)
{
    <div id="tempDataMessage" class="alert @(TempData["Message"].ToString().Contains("successfully") ? "alert-success" : "alert-danger")" role="alert">
        @TempData["Message"]
        <span class="close" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </span>
    </div>
}

<div class="table-responsive">
    @if (Model != null && Model.Any())
    {
        <table class="table table-striped table-borderless">
            <thead>
                <tr style="color:white;background-color: #324260; white-space: nowrap;">
                    <th>
                        Image
                    </th>
                    <th>
                        Full names
                    </th>
                    <th>
                        Club
                    </th>
                    <th>
                        Position
                    </th>
                    <th>
                        CreatedDateTime
                    </th>
                    <th>
                        CreatedBy
                    </th>
                    <th>
                        Market value
                    </th>
                    <th>
                        Sale status
                    </th>
                </tr>
            </thead>
            <tbody id="playerTransferMarketTableBody">
                @foreach (var item in Model)
                {
                    <tr style="white-space: nowrap;">
                        <td>
                            <img src="~/@item.Player.ProfilePicture" alt="@item.Player.FirstName" class="club-badge-image" style="border-radius: 50%; width: 50px; height: 50px;" />
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Player.FirstName) @Html.DisplayFor(modelItem => item.Player.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Club.ClubName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Player.Position)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreatedDateTime)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreatedBy.FirstName) @Html.DisplayFor(modelItem => item.CreatedBy.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Player.MarketValue)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SaleStatus)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-center" style="margin-top: 20vh; margin-bottom: 20vh;">Player markert is currently closed for this season</p>
    }
</div>

<script>
    setTimeout(function () {
        document.getElementById("tempDataMessage").style.display = "none";
    }, 3000);
</script>
